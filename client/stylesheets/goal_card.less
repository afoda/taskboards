@import "colours.less";


// Card

.goal-card {
  transition: all 0.4s;
  padding: 1em;
  border: 1px solid #EEE;

  a {
    color: rgba(0, 0, 0, 0.8);
  }

  .action-box {
    transition: all 0.2s;
    float: right;
    opacity: 0.0;
  }

  .header a {
    color: @goal-title-color;
  }

  // Goal state indications

  &.active-goal {
    background: @active-goal-color-bg;
    .header a {
      color: grey;
    }
  }

  &.complete {
    background: @completed-goal-color-bg;
    opacity: 0.8;
    .header a {
      color: @completed-goal-color;
      text-decoration: line-through;
    }
  }

  // Hover effects

  &.complete, &.active-goal {
    .action-box {
      opacity: 1.0;
    }
  }

  &:hover .action-box {
    opacity: 1.0;
  }
}


.card-drag-placeholder {
  border: 1px solid #EEE;
  padding: 1em;
  color: @goal-title-color;
}


// New Card


.goal-card.new-card-placeholder {

  .action-box {
    opacity: 1.0;
  }

  .new-card-title {
    transition: all 0.4s;
    border: 0;
    border-bottom: 1px solid #DDD;
    width: 60%;
  }

  .new-card-title:invalid {
    opacity: 0.0;
  }

  .new-card-title:valid, .new-card-title:focus, &:hover .new-card-title:invalid {
    opacity: 1.0;
  }
}


// Subgoal table

.ui.table.goal-card-checklist, .ui.table.goal-card-checklist tr, .ui.table.goal-card-checklist td {
  border: 0;
  background: rgba(0, 0, 0, 0.0);
}

.goal-card {

  .new-subgoal-row {
    transition: all 0.2s;
    opacity: 1.0;

    input {
      border: 0;
      border-bottom: 1px solid #DDD;
      width: 80%;
    }
  }

  &:hover .new-subgoal-row {
    opacity: 1.0;
  }
}


// State transitions

.subgoal-row i {
  color: @action-icon-color;
}

.subgoal-row.complete td {
  opacity: 0.5;
  a {
    text-decoration: line-through;
  }
  a, i {
    color: @completed-goal-color;
  }
}

.subgoal-row.active-goal {
  color: @active-goal-color;
  a {
    color: @active-goal-color;
  }
}


// Drag and drop

.checklist-placeholder {
  border: 1px solid #CCC;
  background: #F8F8F8;
}


.goal-card.nest-goal-hover {
  background: @nest-goal-drop-color;
}
