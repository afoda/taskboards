<template name="goal_tree">

{{#unless atTopLevel}}
  {{> focused_goal_header }}
{{/unless}}

<div class="sixteen wide column">
  <div id="board-container">
    {{#each filteredSubgoals}}
      {{> goal_card goal=this }}
    {{/each}}
    <div class="goal-card new-card-placeholder">
      <input class="new-card-title" type="text" required="required">
      <div class="action-box">
        <i class="plus link icon submit-card-button"></i>
      </div>
    </div>
  </div>
</div>

</template>


<template name="focused_goal_header">
<div id="goal-title-column" class="twelve wide column">
  <div class="goal-tree-menu">
    {{#if goal.complete}}
    <i class="large green checkmark link icon goal-complete-button"></i>
    {{else}}
    <div class="ui simple dropdown">
      <i class="large vertical ellipsis icon"></i>
      {{> goal_menu goal=goal hideCompletedSubgoalsAction=true}}
    </div>
    {{/if}}
  </div>
  <h1 id="tree-header" class="ui center aligned header {{#if goal.complete}}complete{{/if}} {{#if isActive goal._id}}active-goal{{/if}}">
    {{goal.title}}
  </h1>
</div>
</template>
